# STRUKTUR TARIF BERTINGKAT PAM

**Tanggal:** 11 Oktober 2025  
**Status:** âœ… **TARIFF TIER SEEDER COMPLETED**

---

## ðŸŽ¯ **OVERVIEW SISTEM TARIF BERTINGKAT**

Sistem tarif bertingkat (Progressive Block Tariff) yang diterapkan mengikuti standar PDAM Indonesia dengan prinsip:

1. **ðŸ  Subsidi untuk Rumah Tangga Kecil** - Tarif sosial untuk pemakaian rendah
2. **ðŸ“ˆ Progressive Pricing** - Tarif naik seiring peningkatan pemakaian  
3. **ðŸ’° Cross Subsidy** - Tarif tinggi industri/niaga subsidikan rumah tangga
4. **âš–ï¸ Keadilan Sosial** - Pemakai besar bayar lebih, pemakai kecil terlindungi

---

## ðŸ“Š **DETAIL STRUKTUR TARIF PER GOLONGAN**

### **ðŸ  RUMAH TANGGA**

#### **Rumah Tangga Kecil** (Target: Keluarga sederhana)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 10 | **1.500** | ðŸŽ¯ **Tarif Sosial** - Perlindungan kebutuhan dasar |
| **II** | 11 - 20 | **2.500** | Pemakaian normal keluarga kecil |
| **III** | > 20 | **3.500** | Disinsentif untuk pemakaian berlebih |

#### **Rumah Tangga Sedang** (Target: Keluarga menengah)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 10 | **2.000** | Tarif dasar |
| **II** | 11 - 20 | **3.000** | Pemakaian normal |
| **III** | 21 - 30 | **4.000** | Pemakaian tinggi |
| **IV** | > 30 | **5.000** | Disinsentif konsumsi berlebih |

#### **Rumah Tangga Besar** (Target: Keluarga besar/villa)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 10 | **2.500** | Tarif dasar |
| **II** | 11 - 20 | **3.500** | Pemakaian normal |
| **III** | 21 - 30 | **4.500** | Pemakaian tinggi |
| **IV** | 31 - 50 | **5.500** | Pemakaian sangat tinggi |
| **V** | > 50 | **6.500** | Disinsentif maksimal |

---

### **ðŸª NIAGA/KOMERSIAL**

#### **Niaga Kecil** (Target: Warung, toko, usaha kecil)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 20 | **4.000** | Tarif dasar niaga |
| **II** | 21 - 50 | **5.500** | Pemakaian sedang |
| **III** | > 50 | **7.000** | Pemakaian tinggi |

#### **Niaga Menengah** (Target: Restoran, hotel kecil)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 30 | **5.000** | Tarif dasar |
| **II** | 31 - 100 | **7.000** | Pemakaian operasional |
| **III** | > 100 | **9.000** | Pemakaian komersial tinggi |

#### **Niaga Besar** (Target: Mall, hotel besar, perkantoran)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 50 | **6.000** | Tarif dasar |
| **II** | 51 - 200 | **8.500** | Pemakaian operasional |
| **III** | > 200 | **11.000** | Pemakaian komersial masif |

---

### **ðŸ­ INDUSTRI**

#### **Industri** (Target: Pabrik, manufaktur)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 100 | **7.500** | Tarif dasar industri |
| **II** | 101 - 500 | **10.000** | Pemakaian produksi |
| **III** | > 500 | **12.500** | Pemakaian industri besar |

---

### **ðŸ¥ SOSIAL**

#### **Sosial** (Target: Sekolah, rumah sakit, masjid, fasilitas umum)
| Blok | Range (mÂ³) | Tarif (Rp/mÂ³) | Keterangan |
|------|------------|---------------|------------|
| **I** | 0 - 20 | **1.000** | ðŸŽ¯ **Tarif Khusus Sosial** |
| **II** | 21 - 50 | **2.000** | Pemakaian operasional |
| **III** | > 50 | **3.000** | Pemakaian fasilitas besar |

---

## ðŸ§® **CONTOH PERHITUNGAN BILLING**

### **Contoh 1: Rumah Tangga Kecil - Pemakaian 25 mÂ³**

| Blok | Range | Volume | Tarif | Subtotal |
|------|-------|--------|-------|----------|
| I | 0-10 mÂ³ | 10 mÂ³ | Rp 1.500 | **Rp 15.000** |
| II | 11-20 mÂ³ | 10 mÂ³ | Rp 2.500 | **Rp 25.000** |
| III | 21-25 mÂ³ | 5 mÂ³ | Rp 3.500 | **Rp 17.500** |
| | | **Total** | | **Rp 57.500** |

### **Contoh 2: Niaga Menengah - Pemakaian 150 mÂ³**

| Blok | Range | Volume | Tarif | Subtotal |
|------|-------|--------|-------|----------|
| I | 0-30 mÂ³ | 30 mÂ³ | Rp 5.000 | **Rp 150.000** |
| II | 31-100 mÂ³ | 70 mÂ³ | Rp 7.000 | **Rp 490.000** |
| III | 101-150 mÂ³ | 50 mÂ³ | Rp 9.000 | **Rp 450.000** |
| | | **Total** | | **Rp 1.090.000** |

---

## ðŸ’¡ **PRINSIP EKONOMI TARIF**

### **ðŸŽ¯ Subsidi Silang:**
- **Industri & Niaga Besar** â†’ Subsidikan **Rumah Tangga & Sosial**
- **Pemakai >50 mÂ³** â†’ Subsidikan **Pemakai <10 mÂ³**

### **ðŸ“ˆ Efek Progressive:**
- **Rumah Tangga Kecil 10 mÂ³**: Rp 1.500/mÂ³ rata-rata
- **Rumah Tangga Kecil 30 mÂ³**: Rp 2.500/mÂ³ rata-rata
- **Industri 100 mÂ³**: Rp 7.500/mÂ³ rata-rata
- **Industri 1000 mÂ³**: Rp 11.000/mÂ³ rata-rata

### **âš–ï¸ Keadilan Sosial:**
- **Kebutuhan Dasar (0-10 mÂ³)**: Tarif rendah untuk semua
- **Konsumsi Berlebih**: Tarif tinggi untuk disinsentif
- **Fasilitas Sosial**: Tarif khusus untuk pelayanan publik

---

## ðŸ”§ **IMPLEMENTASI TEKNIS**

### **Database Structure:**
```sql
CREATE TABLE tariff_tiers (
    id BIGINT PRIMARY KEY,
    pam_id BIGINT,
    tariff_group_id BIGINT,
    meter_min DECIMAL(10,2),    -- Batas bawah blok
    meter_max DECIMAL(10,2),    -- Batas atas blok  
    amount DECIMAL(15,2),       -- Tarif per mÂ³
    effective_from DATE,        -- Tanggal berlaku
    effective_to DATE,          -- Tanggal berakhir
    description TEXT,           -- Deskripsi blok
    status ENUM('active','expired')
);
```

### **Billing Calculation Algorithm:**
```php
function calculateBill($usage, $tariffTiers) {
    $totalBill = 0;
    $remainingUsage = $usage;
    
    foreach ($tariffTiers as $tier) {
        $blockSize = $tier->meter_max - $tier->meter_min;
        $usageInBlock = min($remainingUsage, $blockSize);
        
        $totalBill += $usageInBlock * $tier->amount;
        $remainingUsage -= $usageInBlock;
        
        if ($remainingUsage <= 0) break;
    }
    
    return $totalBill;
}
```

---

## ðŸ“‹ **TESTING SCENARIOS**

### **âœ… Test Cases Ready:**

1. **Low Usage Testing** (0-10 mÂ³)
   - Verify social tariff application
   - Test subsidy effectiveness

2. **Progressive Tier Testing** (20-100 mÂ³)
   - Verify progressive calculation
   - Test tier boundary conditions

3. **High Usage Testing** (>500 mÂ³)
   - Test industrial tariff tiers
   - Verify cross-subsidy mechanism

4. **Edge Case Testing**
   - Exact tier boundary values
   - Zero usage scenarios
   - Maximum usage scenarios

### **ðŸ”— API Endpoints for Testing:**
```
GET /api/tariff-tiers                    â†’ All tiers
GET /api/tariff-tiers/group/{id}         â†’ Tiers by group
POST /api/billing/calculate              â†’ Calculate bill
GET /api/reports/tariff-analysis         â†’ Tariff analysis
```

---

## ðŸŽ‰ **BENEFITS ACHIEVED**

âœ… **Realistic Testing Data** - Tarif sesuai praktik PDAM Indonesia  
âœ… **Complete Progressive System** - 3-5 blok per kategori pelanggan  
âœ… **Social Protection** - Tarif sosial untuk kebutuhan dasar  
âœ… **Cross Subsidy** - Pemakai besar subsidikan pemakai kecil  
âœ… **Business Logic Ready** - Algorithm billing siap implementasi  
âœ… **Flexible Configuration** - Support perubahan tarif masa depan  

**Progressive Block Tariff System is ready for production!** ðŸš€